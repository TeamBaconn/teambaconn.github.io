<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Unreal] Using State Tree Beyond AI | BaconGameDev's Blog</title>
<meta name=keywords content="state tree,game,unreal,gameplay tag,ai"><meta name=description content="State Tree examples for game systems"><meta name=author content="Tuong Nguyen, aka Bacon"><link rel=canonical href=https://teambaconn.github.io/unreal-post/state-tree-beyond-ai/><link crossorigin=anonymous href=/assets/css/stylesheet.704cbf5d24cd4b78b94cb68ba0925e9057c6267e9be0947852ab940b9dfcf7e4.css integrity="sha256-cEy/XSTNS3i5TLaLoJJekFfGJn6b4JR4UquUC5389+Q=" rel="preload stylesheet" as=style><link rel=icon href=https://teambaconn.github.io/logo.png><link rel=icon type=image/png sizes=16x16 href=https://teambaconn.github.io/logo16.png><link rel=icon type=image/png sizes=32x32 href=https://teambaconn.github.io/logo32.png><link rel=apple-touch-icon href=https://teambaconn.github.io/apple-touch-icon.png><link rel=mask-icon href=https://teambaconn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://teambaconn.github.io/unreal-post/state-tree-beyond-ai/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-1FTRRSKLPF"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1FTRRSKLPF")}</script><meta property="og:url" content="https://teambaconn.github.io/unreal-post/state-tree-beyond-ai/"><meta property="og:site_name" content="BaconGameDev's Blog"><meta property="og:title" content="[Unreal] Using State Tree Beyond AI"><meta property="og:description" content="State Tree examples for game systems"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="unreal-post"><meta property="article:published_time" content="2025-10-31T14:57:08+07:00"><meta property="article:modified_time" content="2025-10-31T14:57:08+07:00"><meta property="article:tag" content="State Tree"><meta property="article:tag" content="Game"><meta property="article:tag" content="Unreal"><meta property="article:tag" content="Gameplay Tag"><meta property="article:tag" content="Ai"><meta property="og:image" content="https://teambaconn.github.io/posts/state-tree-beyond-ai/demo.gif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://teambaconn.github.io/posts/state-tree-beyond-ai/demo.gif"><meta name=twitter:title content="[Unreal] Using State Tree Beyond AI"><meta name=twitter:description content="State Tree examples for game systems"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unreal-Posts","item":"https://teambaconn.github.io/unreal-post/"},{"@type":"ListItem","position":2,"name":"[Unreal] Using State Tree Beyond AI","item":"https://teambaconn.github.io/unreal-post/state-tree-beyond-ai/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Unreal] Using State Tree Beyond AI","name":"[Unreal] Using State Tree Beyond AI","description":"State Tree examples for game systems","keywords":["state tree","game","unreal","gameplay tag","ai"],"articleBody":"Abstract This topic isn‚Äôt new. When I first learned about State Tree, it was introduced as something that could be used not just for AI, but for many other systems ‚Äî doors, crates, quests, game logic, and so on.\nFor AI, its use is quite straightforward. But when I thought about applying State Tree to other systems, I honestly couldn‚Äôt see how it would make sense. For example:\nüö™ Door system: You only need a simple boolean or enum to represent the door state. Using a full State Tree feels like overkill. üéØ Quest system: Most quests I‚Äôve seen are relatively simple (or maybe I‚Äôm just a normie) ‚Äî kill 10 frogs, open 10 chests, talk to NPC A to retrieve item B. State Tree‚Äôs functionality seems way too powerful for that. ‚úÖ And I was right - for simple mechanics where you just need something quick, there‚Äôs no need to use State Tree. You will probably spend more time learning the State Tree and dealing with headaches than creating an actual fun game.\n=\u003e But if your system becomes more complicated, you should consider using State Tree before you start reinventing the wheel ‚Äî like I did.\nBenefits Modular and readable: Even if you‚Äôre not the one who built it, you can still understand the logic easily (as shown in the screenshots above). Colorful decorative opitons: State Tree allows you to color the state based on the Category, they even let you set the icon / description to make that more understandable from the outside of the tree-view Fast iteration: You can reorder states, disable them, or split the tree into multiple files so teammates can work on it simultaneously. Feature-rich: Transitions, evaluators, conditions, tasks, and more ‚Äî it‚Äôs far more capable than a basic state machine, so you don‚Äôt have to reinvent the wheel. Built-in debugging tools: You can visualize states, transitions, and condition results in real time, making it much easier to track down logic issues. Examples of State Tree besides AI You can use State Tree to handle a FTUE (First Time User Experience) flow.\nOr you can use it to implement a new game mode.\nI found State Tree extremely useful when implementing systems like tutorials or game modes. It allows you to execute tasks in sequence and handle complex transitions. Additionally, it manages resources in a tree-like structure. Essentially, any child node can use resources defined by its parent, and when a state exits, its associated resources are cleared (though you need to handle that manually).\nThis resource scoping makes it much safer for Game Designers to work with compared to directly editing GameMode Blueprints.\nFor example: in one tutorial, I needed to spawn dummies that must stay alive until the tutorial ends. Every task under that tutorial could access and interact with those dummies directly.\nNotes Along the Way I‚Äôm still learning from the community, but here are a few things to keep in mind before integrating State Tree into your project. I‚Äôll try to update this as I have more chance to work with State Tree in the future.\nRecommend using State Tree in UE 5.4 or above.\nAlthough Unreal claims State Tree has been ‚Äúproduction-ready‚Äù since 5.1, the earlier versions were limited with bugs and crashes (Reference). From my experience, 5.4 and above is where it finally becomes reliable enough for real use. Version 5.6 is an even better starting point, as it fixes many long-standing issues and adds key features like delegates. If you‚Äôre on an older version, proceed with caution ‚Äî you‚Äôll likely hit blockers sooner or later. In 5.5 and below, note that when any task in a state completes, the state itself is also considered complete.\nFor async tasks (that keep running until their children finish), either avoid calling FinishTask, or expose a boolean parameter to control it ‚Äî allowing you to reuse that task in different scenarios.\nIn 5.6, you can now decide whether a state finishes when all tasks complete or when any task completes, offering much more flexibility. Use Global Tasks or Evaluators to dynamically initialize or update shared variables and parameters (for example, retrieving the player list).\nYou can then access the output parameters from anywhere in the State Tree.\nNote that if any global task completes, the entire State Tree will also complete ‚Äî effectively stopping it. Use States and Transitions thoughtfully to define execution order and maintain clarity in your flow.\nYour tasks should only perform their work, finish, and let the State Tree handle routing.\nIf you want a task to handle routing itself (for example, a global async task waiting for all enemies in the level to be cleared before transitioning to an end game state), you have two options: Use StateTree Send Event to send an event with a GameplayTag. You‚Äôll need to configure your State Tree to transition correctly based on that event tag. Use StateTree Request Transition. This method is more straightforward, allowing you to transition directly to the Target State without needing to create multiple GameplayTags. However, this function is broken in UE 5.5 and below (it was rewritten and fixed in 5.6). If you still want to use it, check out my fix. ","wordCount":"869","inLanguage":"en","image":"https://teambaconn.github.io/posts/state-tree-beyond-ai/demo.gif","datePublished":"2025-10-31T14:57:08+07:00","dateModified":"2025-10-31T14:57:08+07:00","author":{"@type":"Person","name":"Tuong Nguyen, aka Bacon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://teambaconn.github.io/unreal-post/state-tree-beyond-ai/"},"publisher":{"@type":"Organization","name":"BaconGameDev's Blog","logo":{"@type":"ImageObject","url":"https://teambaconn.github.io/logo.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://teambaconn.github.io/ accesskey=h title="BaconGameDev's Blog (Alt + H)">BaconGameDev's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://teambaconn.github.io/plugin/ title="My Plugins"><span>My Plugins</span></a></li><li><a href=https://teambaconn.github.io/unreal-post/ title="UE Blog"><span>UE Blog</span></a></li><li><a href=https://teambaconn.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://teambaconn.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://teambaconn.github.io/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://teambaconn.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://teambaconn.github.io/unreal-post/>Unreal-Posts</a></div><h1 class="post-title entry-hint-parent">[Unreal] Using State Tree Beyond AI</h1><div class=post-meta><span title='2025-10-31 14:57:08 +0700 +07'>October 31, 2025</span>&nbsp;¬∑&nbsp;5 min&nbsp;¬∑&nbsp;Tuong Nguyen, aka Bacon</div></header><figure class=entry-cover><img loading=eager src=https://teambaconn.github.io/posts/state-tree-beyond-ai/demo.gif alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#abstract aria-label=Abstract>Abstract</a></li><li><a href=#benefits aria-label=Benefits>Benefits</a></li><li><a href=#examples-of-state-tree-besides-ai aria-label="Examples of State Tree besides AI">Examples of State Tree besides AI</a></li><li><a href=#notes-along-the-way aria-label="Notes Along the Way">Notes Along the Way</a></li></ul></div></details></div><div class=post-content><h2 id=abstract>Abstract<a hidden class=anchor aria-hidden=true href=#abstract>#</a></h2><p>This topic isn‚Äôt new. When I first learned about <code>State Tree</code>, it was introduced as something that could be used not just for AI, but for many other systems ‚Äî doors, crates, quests, game logic, and so on.</p><p>For AI, its use is quite straightforward. But when I thought about applying State Tree to other systems, I honestly couldn‚Äôt see how it would make sense. For example:</p><ul><li>üö™ <strong>Door system</strong>: You only need a simple boolean or enum to represent the door state. Using a full State Tree feels like overkill.</li><li>üéØ <strong>Quest system</strong>: Most quests I‚Äôve seen are relatively simple (or maybe I‚Äôm just a normie) ‚Äî <em>kill 10 frogs, open 10 chests, talk to NPC A to retrieve item B</em>. State Tree‚Äôs functionality seems way too powerful for that.</li></ul><p>‚úÖ And I was right - for simple mechanics where you just need something quick, there‚Äôs no need to use State Tree. You will probably spend more time learning the State Tree and dealing with headaches than creating an actual fun game.</p><p>=> But if your system becomes more complicated, <code>you should consider using State Tree</code> before you start reinventing the wheel ‚Äî like I did.</p><hr><h2 id=benefits>Benefits<a hidden class=anchor aria-hidden=true href=#benefits>#</a></h2><ul><li><strong>Modular and readable:</strong> Even if you‚Äôre not the one who built it, you can still understand the logic easily (as shown in the screenshots above).</li><li><strong>Colorful decorative opitons</strong>: State Tree allows you to color the state based on the Category, they even let you set the icon / description to make that more understandable from the outside of the tree-view</li><li><strong>Fast iteration:</strong> You can reorder states, disable them, or split the tree into multiple files so teammates can work on it simultaneously.</li><li><strong>Feature-rich:</strong> Transitions, evaluators, conditions, tasks, and more ‚Äî it‚Äôs far more capable than a basic state machine, so you don‚Äôt have to reinvent the wheel.</li><li><strong>Built-in debugging tools:</strong> You can visualize states, transitions, and condition results in real time, making it much easier to track down logic issues.</li></ul><hr><h2 id=examples-of-state-tree-besides-ai>Examples of State Tree besides AI<a hidden class=anchor aria-hidden=true href=#examples-of-state-tree-besides-ai>#</a></h2><ul><li><p>You can use State Tree to handle a <strong>FTUE (First Time User Experience)</strong> flow.<br><figure><img loading=lazy src=/posts/state-tree-beyond-ai/tutorial.png width=100%></figure></p></li><li><p>Or you can use it to implement a <strong>new game mode</strong>.<br><figure><img loading=lazy src=/posts/state-tree-beyond-ai/gamemode.jpg width=100%></figure></p></li></ul><p>I found State Tree extremely useful when implementing systems like tutorials or game modes. It allows you to execute tasks in sequence and handle complex transitions. Additionally, it manages resources in a tree-like structure. Essentially, any child node can use resources defined by its parent, and when a state exits, its associated resources are cleared (though you need to handle that manually).</p><p>This resource scoping makes it much safer for <strong>Game Designers</strong> to work with compared to directly editing GameMode Blueprints.</p><p><strong>For example:</strong> in one tutorial, I needed to spawn dummies that must stay alive until the tutorial ends. Every task under that tutorial could access and interact with those dummies directly.</p><hr><h2 id=notes-along-the-way>Notes Along the Way<a hidden class=anchor aria-hidden=true href=#notes-along-the-way>#</a></h2><p>I‚Äôm still learning from the community, but here are a few things to keep in mind before integrating State Tree into your project. I&rsquo;ll try to update this as I have more chance to work with State Tree in the future.</p><ul><li><strong>Recommend using State Tree in UE 5.4 or above.</strong><br>Although Unreal claims State Tree has been ‚Äúproduction-ready‚Äù since <strong>5.1</strong>, the earlier versions were limited with bugs and crashes (<a href=https://jeanpaulsoftware.com/2024/08/13/state-tree-hell/>Reference</a>).
From my experience, <strong>5.4 and above</strong> is where it finally becomes reliable enough for real use.
Version <strong>5.6</strong> is an even better starting point, as it fixes many long-standing issues and adds key features like delegates.
If you‚Äôre on an older version, proceed with caution ‚Äî you‚Äôll likely hit blockers sooner or later.</li></ul><blockquote></blockquote><ul><li>In <strong>5.5</strong> and below, note that when <strong>any task</strong> in a state completes, the state itself is also considered complete.<br>For async tasks (that keep running until their children finish), either avoid calling <code>FinishTask</code>, or expose a boolean parameter to control it ‚Äî allowing you to reuse that task in different scenarios.<br><figure><img loading=lazy src=/posts/state-tree-beyond-ai/finish-task.png width=100%></figure><br>In <strong>5.6</strong>, you can now decide whether a state finishes when <strong>all</strong> tasks complete or when <strong>any</strong> task completes, offering much more flexibility.</li></ul><blockquote></blockquote><ul><li><strong>Use Global Tasks or Evaluators</strong> to dynamically initialize or update shared variables and parameters (for example, retrieving the player list).<br>You can then access the output parameters from anywhere in the State Tree.<br>Note that if <em>any global task</em> completes, the entire State Tree will also complete ‚Äî effectively stopping it.</li></ul><blockquote></blockquote><ul><li><strong>Use States and Transitions</strong> thoughtfully to define execution order and maintain clarity in your flow.<br>Your tasks should only perform their work, finish, and let the State Tree handle routing.<br>If you want a task to handle routing itself (for example, a global async task waiting for all enemies in the level to be cleared before transitioning to an end game state), you have two options:<ul><li>Use <code>StateTree Send Event</code> to send an event with a <code>GameplayTag</code>. You‚Äôll need to configure your State Tree to transition correctly based on that event tag.</li><li>Use <code>StateTree Request Transition</code>. This method is more straightforward, allowing you to transition directly to the <strong>Target State</strong> without needing to create multiple <code>GameplayTags</code>. However, this function is broken in UE 5.5 and below (it was rewritten and fixed in 5.6). If you still want to use it, check out <a href="https://forums.unrealengine.com/t/is-state-tree-request-transition-broken-in-5-4/1887469/34?u=mrbaconvn"><strong>my fix</strong></a>.</li></ul></li></ul><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://teambaconn.github.io/tags/state-tree/>State Tree</a></li><li><a href=https://teambaconn.github.io/tags/game/>Game</a></li><li><a href=https://teambaconn.github.io/tags/unreal/>Unreal</a></li><li><a href=https://teambaconn.github.io/tags/gameplay-tag/>Gameplay Tag</a></li><li><a href=https://teambaconn.github.io/tags/ai/>Ai</a></li></ul><nav class=paginav><a class=prev href=https://teambaconn.github.io/unreal-post/local-coop/><span class=title>¬´ Prev</span><br><span>[Unreal] Splitscreen Multiplayer Guide</span>
</a><a class=next href=https://teambaconn.github.io/unreal-post/mass/translator/><span class=title>Next ¬ª</span><br><span>[Mass] UMassTranslator</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://teambaconn.github.io/>BaconGameDev's Blog</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>