<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Unreal] How CommonUI route your input | BaconGameDev's Blog</title>
<meta name=keywords content="unreal,commonui,input,gamepad,ui,debugging"><meta name=description content="An overview into CommonUI input flow"><meta name=author content="Tuong Nguyen, aka Bacon"><link rel=canonical href=https://teambaconn.github.io/unreal-post/common-ui-input-routing/><link crossorigin=anonymous href=/assets/css/stylesheet.d935457c62478a4c55c92dfe831310ced76adab3a89a43e902d091b5294dfdb4.css integrity="sha256-2TVFfGJHikxVyS3+gxMQztdq2rOomkPpAtCRtSlN/bQ=" rel="preload stylesheet" as=style><link rel=icon href=https://teambaconn.github.io/logo.png><link rel=icon type=image/png sizes=16x16 href=https://teambaconn.github.io/logo16.png><link rel=icon type=image/png sizes=32x32 href=https://teambaconn.github.io/logo32.png><link rel=apple-touch-icon href=https://teambaconn.github.io/apple-touch-icon.png><link rel=mask-icon href=https://teambaconn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://teambaconn.github.io/unreal-post/common-ui-input-routing/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-1FTRRSKLPF"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1FTRRSKLPF")}</script><meta property="og:url" content="https://teambaconn.github.io/unreal-post/common-ui-input-routing/"><meta property="og:site_name" content="BaconGameDev's Blog"><meta property="og:title" content="[Unreal] How CommonUI route your input"><meta property="og:description" content="An overview into CommonUI input flow"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="unreal-post"><meta property="article:published_time" content="2025-11-21T22:42:46+07:00"><meta property="article:modified_time" content="2025-11-21T22:42:46+07:00"><meta property="article:tag" content="Unreal"><meta property="article:tag" content="Commonui"><meta property="article:tag" content="Input"><meta property="article:tag" content="Gamepad"><meta property="article:tag" content="Ui"><meta property="article:tag" content="Debugging"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Unreal] How CommonUI route your input"><meta name=twitter:description content="An overview into CommonUI input flow"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unreal-Posts","item":"https://teambaconn.github.io/unreal-post/"},{"@type":"ListItem","position":2,"name":"[Unreal] How CommonUI route your input","item":"https://teambaconn.github.io/unreal-post/common-ui-input-routing/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Unreal] How CommonUI route your input","name":"[Unreal] How CommonUI route your input","description":"An overview into CommonUI input flow","keywords":["unreal","commonui","input","gamepad","ui","debugging"],"articleBody":"Abstract This post will help you better understand how input flows through the UI system in Unreal Engine, especially when working with CommonUI. This is extremely useful when debugging weird CommonUI input issues.\nüìñ Epic provides a more detailed (and accurate) guide here, but honestly, it‚Äôs pretty hard to digest: CommonUI Input Technical Guide\nCommon Problems CommonUI uses an AnalogCursor, which replicates the gamepad‚Äôs Accept button (usually the A button) as a Left Mouse Click and move the cursor to the position of the widget you want to focus on. This leads to two common constrast issues:\nSometimes you need to listen to the actual Accept button, not the simulated left clicks. Sometimes you need to simulate left clicks, but they get consumed by widget bindings that are already listening for the Accept button. Flow Overview When an input event occurs, it travels through a whole chain of systems. Each step has the ability to consume the input. If something consumes your input before it reaches the place you expect, your logic won‚Äôt run.\nTo debug this, place breakpoints from top to bottom in the functions below to find out which layer is stealing your input.\nBelow is a VERY SIMPLIFIED flow chart of how Unreal routes input. I‚Äôve removed everything unnecessary and kept only what matters for debugging CommonUI issues.\n‚ö†Ô∏è Don‚Äôt freak out when you see the chart as I will break down some functions afterwards. üîß Functions breakdown FSlateApplication::InputPreProcessorsHelper::PreProcessInput Runs before Slate/UI receives the event.\nOne of these preprocessors is FCommonAnalogCursor, which:\nChecks if it‚Äôs a Virtual Accept Key It gives a chance for any widget want to consume the Accept Key through UCommonUIActionRouterBase::ProcessInput If the widget consumes the flow will end here If the widget does not want‚Äôs it, it will ask it self through ShouldVirtualAcceptSimulateMouseButton to see if it should simulate Left Mouse Button If it simulate, then the input is consumed, if not, we move on to the next step. UCommonUIActionRouterBase::ProcessInput Pushes the input into the widget hierarchy.\nIf a widget has an ActionBinding (like A to Accept, B to Cancel, etc.) and consumes the event:\nThe flow stops here. The input never reaches deeper layers. OnOverrideInputKey() This is a delegate (FOverrideInputKeyHandler) in UCommonGameViewportClient with a bool return that decides whether the input is consumed.\nUsually used for things like:\n‚ÄúPress Any Button to Start‚Äù screen Local player‚Äôs device discovery Global-level key capture ‚ö†Ô∏è If CommonUI consumes the event earlier, this delegate never sees it.\nCommon Fixes Disable simulating Virtual Accept key In this senario, you don‚Äôt want the gamepad to be able to left click on anything so it can be captured by other event. For example: Binding to OnOverrideInputKey() in UCommonGameViewportClient to listen to any input pressed by any input device. This is pretty late step in the chart above and it will get consumed prematurely by the FCommonAnalogCursor when you want to listen for the Accept key.\nSolution You can temporarily disable the FCommonAnalogCursor‚Äôs left click simulator when listening for Accept key from the OverrideInputKey delegate.\nThe code below shows you how to create your own CommonUIActionRouterBase (LocalPlayerSubsystem) and CommonAnalogCursor so you can enable / disable simulating left mouse button. Just get the local player you want to enable / disable, get the subsystem and use the function SetShouldVirtualAcceptSimulateMouseButton(bool).\n// ¬© 2025 Team Bacon. All Rights Reserved. #pragma once #include \"CoreMinimal.h\" #include \"Input/CommonAnalogCursor.h\" #include \"Input/CommonUIActionRouterBase.h\" #include \"ProjectCommonUIActionRouterBase.generated.h\" class FProjectCommonAnalogCursor : public FCommonAnalogCursor { public: FProjectCommonAnalogCursor(const UCommonUIActionRouterBase\u0026 InActionRouter); protected: virtual bool ShouldVirtualAcceptSimulateMouseButton( const FKeyEvent\u0026 InKeyEvent, EInputEvent InputEvent ) const override; }; /** * Project-wide CommonUI Action Router that allows toggling * virtual Accept ‚Üí Left Mouse Button simulation. */ UCLASS() class YOURPROJECT_API UProjectCommonUIActionRouterBase : public UCommonUIActionRouterBase { GENERATED_BODY() public: bool GetShouldVirtualAcceptSimulateMouseButton() const { return bShouldVirtualAcceptSimulateMouseButton; } void SetShouldVirtualAcceptSimulateMouseButton(bool bInShouldSimulate) { bShouldVirtualAcceptSimulateMouseButton = bInShouldSimulate; } protected: virtual TSharedRef\u003cFCommonAnalogCursor\u003e MakeAnalogCursor() const override; protected: bool bShouldVirtualAcceptSimulateMouseButton = true; }; // ¬© 2025 Team Bacon. All Rights Reserved. #include \"Subsystem/ProjectCommonUIActionRouterBase.h\" FProjectCommonAnalogCursor::FProjectCommonAnalogCursor( const UCommonUIActionRouterBase\u0026 InActionRouter ) : FCommonAnalogCursor(InActionRouter) { } bool FProjectCommonAnalogCursor::ShouldVirtualAcceptSimulateMouseButton( const FKeyEvent\u0026 InKeyEvent, EInputEvent InputEvent ) const { const UProjectCommonUIActionRouterBase* Router = Cast\u003cUProjectCommonUIActionRouterBase\u003e(\u0026ActionRouter); if (Router \u0026\u0026 !Router-\u003eGetShouldVirtualAcceptSimulateMouseButton()) { return false; } return FCommonAnalogCursor::ShouldVirtualAcceptSimulateMouseButton(InKeyEvent, InputEvent); } TSharedRef\u003cFCommonAnalogCursor\u003e UProjectCommonUIActionRouterBase::MakeAnalogCursor() const { return FCommonAnalogCursor::CreateAnalogCursor\u003cFProjectCommonAnalogCursor\u003e(*this); } ","wordCount":"697","inLanguage":"en","datePublished":"2025-11-21T22:42:46+07:00","dateModified":"2025-11-21T22:42:46+07:00","author":{"@type":"Person","name":"Tuong Nguyen, aka Bacon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://teambaconn.github.io/unreal-post/common-ui-input-routing/"},"publisher":{"@type":"Organization","name":"BaconGameDev's Blog","logo":{"@type":"ImageObject","url":"https://teambaconn.github.io/logo.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://teambaconn.github.io/ accesskey=h title="BaconGameDev's Blog (Alt + H)">BaconGameDev's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://teambaconn.github.io/plugin/ title="My Plugins"><span>My Plugins</span></a></li><li><a href=https://teambaconn.github.io/unreal-post/ title="UE Blog"><span>UE Blog</span></a></li><li><a href=https://teambaconn.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://teambaconn.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://teambaconn.github.io/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://teambaconn.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://teambaconn.github.io/unreal-post/>Unreal-Posts</a></div><h1 class="post-title entry-hint-parent">[Unreal] How CommonUI route your input</h1><div class=post-meta><span title='2025-11-21 22:42:46 +0700 +07'>November 21, 2025</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;Tuong Nguyen, aka Bacon</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#abstract aria-label=Abstract>Abstract</a></li><li><a href=#common-problems aria-label="Common Problems">Common Problems</a></li><li><a href=#flow-overview aria-label="Flow Overview">Flow Overview</a><ul><li><a href=#-functions-breakdown aria-label="üîß Functions breakdown">üîß Functions breakdown</a><ul><li><a href=#fslateapplicationinputpreprocessorshelperpreprocessinput aria-label=FSlateApplication::InputPreProcessorsHelper::PreProcessInput>FSlateApplication::InputPreProcessorsHelper::PreProcessInput</a></li><li><a href=#ucommonuiactionrouterbaseprocessinput aria-label=UCommonUIActionRouterBase::ProcessInput>UCommonUIActionRouterBase::ProcessInput</a></li><li><a href=#onoverrideinputkey aria-label=OnOverrideInputKey()>OnOverrideInputKey()</a></li></ul></li></ul></li><li><a href=#common-fixes aria-label="Common Fixes">Common Fixes</a><ul><li><a href=#disable-simulating-virtual-accept-key aria-label="Disable simulating Virtual Accept key">Disable simulating Virtual Accept key</a><ul><li><a href=#solution aria-label=Solution>Solution</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=abstract>Abstract<a hidden class=anchor aria-hidden=true href=#abstract>#</a></h1><p>This post will help you better understand how input flows through the UI system in Unreal Engine, especially when working with <strong>CommonUI</strong>. This is extremely useful when debugging weird CommonUI input issues.</p><p>üìñ Epic provides a more detailed (and accurate) guide here, but honestly, it‚Äôs pretty hard to digest: <a href=https://dev.epicgames.com/documentation/en-us/unreal-engine/commonui-input-technical-guide-for-unreal-engine>CommonUI Input Technical Guide</a></p><h1 id=common-problems>Common Problems<a hidden class=anchor aria-hidden=true href=#common-problems>#</a></h1><p>CommonUI uses an <code>AnalogCursor</code>, which replicates the gamepad‚Äôs <em>Accept</em> button (usually the <strong>A</strong> button) as a <strong>Left Mouse Click</strong> and move the
cursor to the position of the widget you want to focus on.
This leads to two common constrast issues:</p><ul><li><strong>Sometimes you need to listen to the actual Accept button</strong>, not the simulated left clicks.</li><li><strong>Sometimes you need to simulate left clicks</strong>, but they get consumed by widget bindings that are already listening for the Accept button.</li></ul><h1 id=flow-overview>Flow Overview<a hidden class=anchor aria-hidden=true href=#flow-overview>#</a></h1><p>When an input event occurs, it travels through a whole chain of systems. Each step has the ability to <strong>consume</strong> the input. If something consumes your input before it reaches the place you expect, your logic won‚Äôt run.</p><p>To debug this, place breakpoints <strong>from top to bottom</strong> in the functions below to find out which layer is stealing your input.</p><p>Below is a <strong>VERY SIMPLIFIED</strong> flow chart of how Unreal routes input. I‚Äôve removed everything unnecessary and kept only what matters for debugging CommonUI issues.</p><p>‚ö†Ô∏è Don‚Äôt freak out when you see the chart as I will break down some functions afterwards.<figure><img loading=lazy src=/posts/common-ui-input-routing/flow.png width=100%></figure></p><h2 id=-functions-breakdown>üîß Functions breakdown<a hidden class=anchor aria-hidden=true href=#-functions-breakdown>#</a></h2><h3 id=fslateapplicationinputpreprocessorshelperpreprocessinput><code>FSlateApplication::InputPreProcessorsHelper::PreProcessInput</code><a hidden class=anchor aria-hidden=true href=#fslateapplicationinputpreprocessorshelperpreprocessinput>#</a></h3><p>Runs before Slate/UI receives the event.<br>One of these preprocessors is <strong><code>FCommonAnalogCursor</code></strong>, which:</p><ul><li>Checks if it&rsquo;s a Virtual Accept Key</li><li>It gives a chance for any widget want to consume the Accept Key through <code>UCommonUIActionRouterBase::ProcessInput</code></li><li>If the widget consumes the flow will end here</li><li>If the widget does not want&rsquo;s it, it will ask it self through <code>ShouldVirtualAcceptSimulateMouseButton</code> to see if it should simulate Left Mouse Button</li><li>If it simulate, then the input is consumed, if not, we move on to the next step.</li></ul><hr><h3 id=ucommonuiactionrouterbaseprocessinput><code>UCommonUIActionRouterBase::ProcessInput</code><a hidden class=anchor aria-hidden=true href=#ucommonuiactionrouterbaseprocessinput>#</a></h3><p>Pushes the input into the widget hierarchy.</p><p>If a widget has an ActionBinding (like <em>A to Accept</em>, <em>B to Cancel</em>, etc.) and consumes the event:</p><ul><li>The flow stops here.</li><li>The input never reaches deeper layers.</li></ul><hr><h3 id=onoverrideinputkey><code>OnOverrideInputKey()</code><a hidden class=anchor aria-hidden=true href=#onoverrideinputkey>#</a></h3><p>This is a delegate (<code>FOverrideInputKeyHandler</code>) in <code>UCommonGameViewportClient</code> with a <strong>bool return</strong> that decides whether the input is consumed.</p><p>Usually used for things like:</p><ul><li>&ldquo;Press Any Button to Start&rdquo; screen</li><li>Local player&rsquo;s device discovery</li><li>Global-level key capture</li></ul><p>‚ö†Ô∏è If CommonUI consumes the event earlier, this delegate never sees it.</p><h1 id=common-fixes>Common Fixes<a hidden class=anchor aria-hidden=true href=#common-fixes>#</a></h1><h2 id=disable-simulating-virtual-accept-key>Disable simulating Virtual Accept key<a hidden class=anchor aria-hidden=true href=#disable-simulating-virtual-accept-key>#</a></h2><p>In this senario, you don&rsquo;t want the gamepad to be able to left click on anything so it can be captured by other event. For example: Binding to
<code>OnOverrideInputKey()</code> in <code>UCommonGameViewportClient</code> to listen to any input pressed by any input device. This is pretty late step in the chart above
and it will get consumed prematurely by the <code>FCommonAnalogCursor</code> when you want to listen for the Accept key.</p><h3 id=solution>Solution<a hidden class=anchor aria-hidden=true href=#solution>#</a></h3><p>You can temporarily disable the FCommonAnalogCursor&rsquo;s left click simulator when listening for Accept key from the OverrideInputKey delegate.</p><p>The code below shows you how to create your own <code>CommonUIActionRouterBase</code> (LocalPlayerSubsystem) and <code>CommonAnalogCursor</code> so you can enable / disable simulating left mouse button. Just get the local player you want to enable / disable, get the subsystem and use the function <code>SetShouldVirtualAcceptSimulateMouseButton(bool)</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>// ¬© 2025 Team Bacon. All Rights Reserved.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#pragma once
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;CoreMinimal.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;Input/CommonAnalogCursor.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;Input/CommonUIActionRouterBase.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;ProjectCommonUIActionRouterBase.generated.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>class</span> <span class=nl>FProjectCommonAnalogCursor</span> <span class=p>:</span> <span class=n>public</span> <span class=n>FCommonAnalogCursor</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=nl>public</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=nf>FProjectCommonAnalogCursor</span><span class=p>(</span><span class=k>const</span> <span class=n>UCommonUIActionRouterBase</span><span class=o>&amp;</span> <span class=n>InActionRouter</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nl>protected</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>virtual</span> <span class=kt>bool</span> <span class=nf>ShouldVirtualAcceptSimulateMouseButton</span><span class=p>(</span>
</span></span><span class=line><span class=cl>		<span class=k>const</span> <span class=n>FKeyEvent</span><span class=o>&amp;</span> <span class=n>InKeyEvent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=n>EInputEvent</span> <span class=n>InputEvent</span>
</span></span><span class=line><span class=cl>	<span class=p>)</span> <span class=k>const</span> <span class=n>override</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Project-wide CommonUI Action Router that allows toggling
</span></span></span><span class=line><span class=cl><span class=cm> * virtual Accept ‚Üí Left Mouse Button simulation.
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=nf>UCLASS</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>class</span> <span class=n>YOURPROJECT_API</span> <span class=nl>UProjectCommonUIActionRouterBase</span> <span class=p>:</span> <span class=n>public</span> <span class=n>UCommonUIActionRouterBase</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nf>GENERATED_BODY</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nl>public</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=kt>bool</span> <span class=nf>GetShouldVirtualAcceptSimulateMouseButton</span><span class=p>()</span> <span class=k>const</span> <span class=p>{</span> <span class=k>return</span> <span class=n>bShouldVirtualAcceptSimulateMouseButton</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>SetShouldVirtualAcceptSimulateMouseButton</span><span class=p>(</span><span class=kt>bool</span> <span class=n>bInShouldSimulate</span><span class=p>)</span> <span class=p>{</span> <span class=n>bShouldVirtualAcceptSimulateMouseButton</span> <span class=o>=</span> <span class=n>bInShouldSimulate</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nl>protected</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>virtual</span> <span class=n>TSharedRef</span><span class=o>&lt;</span><span class=n>FCommonAnalogCursor</span><span class=o>&gt;</span> <span class=nf>MakeAnalogCursor</span><span class=p>()</span> <span class=k>const</span> <span class=n>override</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nl>protected</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=kt>bool</span> <span class=n>bShouldVirtualAcceptSimulateMouseButton</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><hr><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>// ¬© 2025 Team Bacon. All Rights Reserved. 
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;Subsystem/ProjectCommonUIActionRouterBase.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>FProjectCommonAnalogCursor</span><span class=o>::</span><span class=nf>FProjectCommonAnalogCursor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=n>UCommonUIActionRouterBase</span><span class=o>&amp;</span> <span class=n>InActionRouter</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>:</span> <span class=nf>FCommonAnalogCursor</span><span class=p>(</span><span class=n>InActionRouter</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>FProjectCommonAnalogCursor</span><span class=o>::</span><span class=nf>ShouldVirtualAcceptSimulateMouseButton</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=n>FKeyEvent</span><span class=o>&amp;</span> <span class=n>InKeyEvent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=n>EInputEvent</span> <span class=n>InputEvent</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=k>const</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=n>UProjectCommonUIActionRouterBase</span><span class=o>*</span> <span class=n>Router</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>		<span class=n>Cast</span><span class=o>&lt;</span><span class=n>UProjectCommonUIActionRouterBase</span><span class=o>&gt;</span><span class=p>(</span><span class=o>&amp;</span><span class=n>ActionRouter</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>Router</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>Router</span><span class=o>-&gt;</span><span class=nf>GetShouldVirtualAcceptSimulateMouseButton</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>FCommonAnalogCursor</span><span class=o>::</span><span class=nf>ShouldVirtualAcceptSimulateMouseButton</span><span class=p>(</span><span class=n>InKeyEvent</span><span class=p>,</span> <span class=n>InputEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TSharedRef</span><span class=o>&lt;</span><span class=n>FCommonAnalogCursor</span><span class=o>&gt;</span> <span class=n>UProjectCommonUIActionRouterBase</span><span class=o>::</span><span class=nf>MakeAnalogCursor</span><span class=p>()</span> <span class=k>const</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>FCommonAnalogCursor</span><span class=o>::</span><span class=n>CreateAnalogCursor</span><span class=o>&lt;</span><span class=n>FProjectCommonAnalogCursor</span><span class=o>&gt;</span><span class=p>(</span><span class=o>*</span><span class=n>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://teambaconn.github.io/tags/unreal/>Unreal</a></li><li><a href=https://teambaconn.github.io/tags/commonui/>Commonui</a></li><li><a href=https://teambaconn.github.io/tags/input/>Input</a></li><li><a href=https://teambaconn.github.io/tags/gamepad/>Gamepad</a></li><li><a href=https://teambaconn.github.io/tags/ui/>Ui</a></li><li><a href=https://teambaconn.github.io/tags/debugging/>Debugging</a></li></ul><nav class=paginav><a class=next href=https://teambaconn.github.io/unreal-post/state-tree-beyond-ai/><span class=title>Next ¬ª</span><br><span>[Unreal] Using State Tree Beyond AI</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://teambaconn.github.io/>BaconGameDev's Blog</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>