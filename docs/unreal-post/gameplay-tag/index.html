<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Unreal] Using Gameplay Tags with GAS | BaconGameDev's Blog</title>
<meta name=keywords content="gas,game,unreal,gameplay-tag"><meta name=description content="Gotcha tips you might not know when using Gameplay Tags with GAS"><meta name=author content="Tuong Nguyen, aka Bacon"><link rel=canonical href=https://teambaconn.github.io/unreal-post/gameplay-tag/><link crossorigin=anonymous href=/assets/css/stylesheet.d935457c62478a4c55c92dfe831310ced76adab3a89a43e902d091b5294dfdb4.css integrity="sha256-2TVFfGJHikxVyS3+gxMQztdq2rOomkPpAtCRtSlN/bQ=" rel="preload stylesheet" as=style><link rel=icon href=https://teambaconn.github.io/logo.png><link rel=icon type=image/png sizes=16x16 href=https://teambaconn.github.io/logo16.png><link rel=icon type=image/png sizes=32x32 href=https://teambaconn.github.io/logo32.png><link rel=apple-touch-icon href=https://teambaconn.github.io/apple-touch-icon.png><link rel=mask-icon href=https://teambaconn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://teambaconn.github.io/unreal-post/gameplay-tag/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-1FTRRSKLPF"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1FTRRSKLPF")}</script><meta property="og:url" content="https://teambaconn.github.io/unreal-post/gameplay-tag/"><meta property="og:site_name" content="BaconGameDev's Blog"><meta property="og:title" content="[Unreal] Using Gameplay Tags with GAS"><meta property="og:description" content="Gotcha tips you might not know when using Gameplay Tags with GAS"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="unreal-post"><meta property="article:published_time" content="2025-03-22T21:49:26+07:00"><meta property="article:modified_time" content="2025-03-22T21:49:26+07:00"><meta property="article:tag" content="Gas"><meta property="article:tag" content="Game"><meta property="article:tag" content="Unreal"><meta property="article:tag" content="Gameplay-Tag"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Unreal] Using Gameplay Tags with GAS"><meta name=twitter:description content="Gotcha tips you might not know when using Gameplay Tags with GAS"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unreal-Posts","item":"https://teambaconn.github.io/unreal-post/"},{"@type":"ListItem","position":2,"name":"[Unreal] Using Gameplay Tags with GAS","item":"https://teambaconn.github.io/unreal-post/gameplay-tag/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Unreal] Using Gameplay Tags with GAS","name":"[Unreal] Using Gameplay Tags with GAS","description":"Gotcha tips you might not know when using Gameplay Tags with GAS","keywords":["gas","game","unreal","gameplay-tag"],"articleBody":"‚ö†Ô∏è Prerequisites These tips apply to Unreal Engine 5 and later. If you‚Äôre working with an older version, the behavior might be different. Feel free to reach out if any of my information is incorrect or misleading. I only mention tips that I believe are not well-documented online. Replicated Tags 1. AddReplicatedLooseGameplayTag (or remove) does not modify tags on the caller side For example, if you add replicated tags on the server, only the clients will receive them (through MinimalReplicationTags replication), but the tag will NOT be added on the server itself.\nIf you want to add or remove the tag on the server and also replicate it to clients, use:\nUAbilitySystemBlueprintLibrary::AddLooseGameplayTag UAbilitySystemBlueprintLibrary::RemoveLooseGameplayTag 2. Do NOT use AddLooseGameplayTag or RemoveLooseGameplayTag on replicated tags to modify them locally (unless you‚Äôre the authoritative server) Adding or removing a loose gameplay tag on the client will eventually be overridden by the replicated version from the server.\nExample: You add Tag.Example locally on the client five times. On the server, you call AddReplicatedLooseGameplayTag with Tag.Example once. The client‚Äôs tag count gets overridden when the server replicates MinimalReplicationTags. The server does not care how many times the client added the tag locally; only the replicated state matters. Replication Stage Client State Server State Before Replication 5 1 Expected After Replication 6 1 Actual After Replication 1 (Overridden) 1 Workaround: To make the server respect locally added tags, you can create a new tag: Tag.Example.Replicated.\nUse this tag for replication (AddReplicatedLooseGameplayTag, ability tags, etc.). Use Tag.Example for locally added tags. This separation prevents the server from overriding local tags. Specify Tag Prefixes for Blueprint Users In most projects, there are many tags, but certain systems only need to handle a specific group of them. For example, input tags only need to consider tags beginning with ComboGraph.Input.\nBy enforcing tag prefixes, you:\nReduce the risk of selecting the wrong tag. Keep tags organized and readable. Restricting Tags in Blueprints You can enforce tag prefixes by using arbitrary prefixes in different data structures such as FGameplayTag, TArray, and TMap. However, this restriction only works in Blueprints‚ÄîC++ does not enforce it.\nExample Usage: // Restrict TArray tags using Categories UPROPERTY(EditAnywhere, meta = (Categories = \"General.Input\")) TArray\u003cFGameplayTag\u003e InputTags; // Restrict TMap tags using GameplayTagFilter UPROPERTY(EditAnywhere, meta = (GameplayTagFilter = \"General.SetByCaller\")) TMap\u003cFGameplayTag, float\u003e SetByCallerMagnitudes; // Restrict function parameters (must not be a reference parameter) UFUNCTION(BlueprintCallable, Meta = (GameplayTagFilter = \"General.Input\")) void ExampleFunc(FGameplayTag Input); By using these metadata settings, you can improve organization and enforce structured tag usage in your Blueprint systems.\nSerialize TMap or any TMap for replication By default TMap is not supported for sending through network. In my game, I have the need to send the TMap Params to the clients so I have to do my own serialization. This is the same way GAS use to replicate tag counts.\nUSTRUCT(Blueprintable) struct FReplicatedMapWrapper { GENERATED_USTRUCT_BODY() virtual bool NetSerialize(FArchive\u0026 Ar, class UPackageMap* Map, bool\u0026 bOutSuccess) override; public: UPROPERTY(BlueprintReadWrite) TMap\u003cFGameplayTag, float\u003e Params; }; template\u003c\u003e struct TStructOpsTypeTraits\u003cFReplicatedMapWrapper\u003e : public TStructOpsTypeTraitsBase2\u003cFReplicatedMapWrapper\u003e { enum { WithNetSerializer = true, }; }; bool FReplicatedMapWrapper::NetSerialize(FArchive\u0026 Ar, class UPackageMap* Map, bool\u0026 bOutSuccess) { constexpr int32 CountBits = MAX_ELEMENT_COUNT; constexpr int32 MaxCount = ((1 \u003c\u003c CountBits) - 1); if (Ar.IsSaving()) { int32 Count = Params.Num(); if (Count \u003e MaxCount) { UE_LOG(LogTemp, Error, TEXT(\"FReplicatedMapWrapper::NetSerialize: Too many params (%d) for replication. Clamping to %d.\"), Count, MaxCount); Count = MaxCount; } Ar.SerializeBits(\u0026Count, CountBits); for (auto\u0026 It : Params) { FGameplayTag Tag = It.Key; float Value = It.Value; Tag.NetSerialize(Ar, Map, bOutSuccess); Ar \u003c\u003c Value; if (--Count \u003c= 0) { break; } } } else { int32 Count = 0; Ar.SerializeBits(\u0026Count, CountBits); Params.Empty(); while (Count-- \u003e 0) { FGameplayTag Tag; float Value = 0.f; Tag.NetSerialize(Ar, Map, bOutSuccess); Ar \u003c\u003c Value; Params.Add(Tag, Value); } } return true; } I hope these insights help you avoid common pitfalls and improve your workflow! If you have any questions or additional tips, feel free to reach out. üöÄ\n","wordCount":"652","inLanguage":"en","datePublished":"2025-03-22T21:49:26+07:00","dateModified":"2025-03-22T21:49:26+07:00","author":{"@type":"Person","name":"Tuong Nguyen, aka Bacon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://teambaconn.github.io/unreal-post/gameplay-tag/"},"publisher":{"@type":"Organization","name":"BaconGameDev's Blog","logo":{"@type":"ImageObject","url":"https://teambaconn.github.io/logo.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://teambaconn.github.io/ accesskey=h title="BaconGameDev's Blog (Alt + H)">BaconGameDev's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://teambaconn.github.io/unreal-post/ title="Unreal Engine"><span>Unreal Engine</span></a></li><li><a href=https://teambaconn.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://teambaconn.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://teambaconn.github.io/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://teambaconn.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://teambaconn.github.io/unreal-post/>Unreal-Posts</a></div><h1 class="post-title entry-hint-parent">[Unreal] Using Gameplay Tags with GAS</h1><div class=post-meta><span title='2025-03-22 21:49:26 +0700 +07'>March 22, 2025</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;Tuong Nguyen, aka Bacon</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#-prerequisites aria-label="‚ö†Ô∏è Prerequisites">‚ö†Ô∏è Prerequisites</a></li><li><a href=#replicated-tags aria-label="Replicated Tags">Replicated Tags</a><ul><li><a href=#1-addreplicatedloosegameplaytag-or-remove-does-not-modify-tags-on-the-caller-side aria-label="1. AddReplicatedLooseGameplayTag (or remove) does not modify tags on the caller side">1. AddReplicatedLooseGameplayTag (or remove) does not modify tags on the caller side</a></li><li><a href=#2-do-not-use-addloosegameplaytag-or-removeloosegameplaytag-on-replicated-tags-to-modify-them-locally-unless-youre-the-authoritative-server aria-label="2. Do NOT use AddLooseGameplayTag or RemoveLooseGameplayTag on replicated tags to modify them locally (unless you&rsquo;re the authoritative server)">2. Do NOT use AddLooseGameplayTag or RemoveLooseGameplayTag on replicated tags to modify them locally (unless you&rsquo;re the authoritative server)</a><ul><li><a href=#example aria-label=Example:>Example:</a></li><li><a href=#workaround aria-label=Workaround:>Workaround:</a></li></ul></li></ul></li><li><a href=#specify-tag-prefixes-for-blueprint-users aria-label="Specify Tag Prefixes for Blueprint Users">Specify Tag Prefixes for Blueprint Users</a><ul><ul><li><a href=#restricting-tags-in-blueprints aria-label="Restricting Tags in Blueprints">Restricting Tags in Blueprints</a></li><li><a href=#example-usage aria-label="Example Usage:">Example Usage:</a></li></ul></ul></li><li><a href=#serialize-tmapfgameplaytag-float-or-any-tmap-for-replication aria-label="Serialize TMap<FGameplayTag, float> or any TMap for replication">Serialize TMap&lt;FGameplayTag, float> or any TMap for replication</a></li></ul></div></details></div><div class=post-content><h2 id=-prerequisites>‚ö†Ô∏è Prerequisites<a hidden class=anchor aria-hidden=true href=#-prerequisites>#</a></h2><ul><li>These tips apply to Unreal Engine 5 and later. If you&rsquo;re working with an older version, the behavior <em>might</em> be different.
Feel free to reach out if any of my information is incorrect or misleading.</li><li>I only mention tips that I believe are <em>not</em> well-documented online.</li></ul><hr><h2 id=replicated-tags>Replicated Tags<a hidden class=anchor aria-hidden=true href=#replicated-tags>#</a></h2><h3 id=1-addreplicatedloosegameplaytag-or-remove-does-not-modify-tags-on-the-caller-side>1. <code>AddReplicatedLooseGameplayTag</code> (or remove) does not modify tags on the caller side<a hidden class=anchor aria-hidden=true href=#1-addreplicatedloosegameplaytag-or-remove-does-not-modify-tags-on-the-caller-side>#</a></h3><p>For example, if you add replicated tags on the server, only the clients will receive them (through <code>MinimalReplicationTags</code> replication), but the tag will <strong>NOT</strong> be added on the server itself.</p><p>If you want to add or remove the tag on the server and also replicate it to clients, use:</p><ul><li><code>UAbilitySystemBlueprintLibrary::AddLooseGameplayTag</code></li><li><code>UAbilitySystemBlueprintLibrary::RemoveLooseGameplayTag</code></li></ul><h3 id=2-do-not-use-addloosegameplaytag-or-removeloosegameplaytag-on-replicated-tags-to-modify-them-locally-unless-youre-the-authoritative-server>2. Do NOT use <code>AddLooseGameplayTag</code> or <code>RemoveLooseGameplayTag</code> on replicated tags to modify them locally (unless you&rsquo;re the authoritative server)<a hidden class=anchor aria-hidden=true href=#2-do-not-use-addloosegameplaytag-or-removeloosegameplaytag-on-replicated-tags-to-modify-them-locally-unless-youre-the-authoritative-server>#</a></h3><p>Adding or removing a loose gameplay tag on the client will eventually be overridden by the replicated version from the server.</p><h4 id=example>Example:<a hidden class=anchor aria-hidden=true href=#example>#</a></h4><ul><li>You add <code>Tag.Example</code> locally on the client <em>five</em> times.</li><li>On the server, you call <code>AddReplicatedLooseGameplayTag</code> with <code>Tag.Example</code> <em>once</em>.</li><li>The client‚Äôs tag count gets overridden when the server replicates <code>MinimalReplicationTags</code>.</li><li>The server does <em>not</em> care how many times the client added the tag locally; only the replicated state matters.</li></ul><div class=data-table><table class="%!s(<nil>)"><thead><tr><th>Replication Stage</th><th>Client State</th><th>Server State</th></tr></thead><tbody><tr><td>Before Replication</td><td>5</td><td>1</td></tr><tr><td>Expected After Replication</td><td>6</td><td>1</td></tr><tr><td>Actual After Replication</td><td><code>1 (Overridden)</code></td><td>1</td></tr></tbody></table></div><h4 id=workaround>Workaround:<a hidden class=anchor aria-hidden=true href=#workaround>#</a></h4><p>To make the server respect locally added tags, you can create a new tag: <code>Tag.Example.Replicated</code>.</p><ul><li>Use this tag for replication (<code>AddReplicatedLooseGameplayTag</code>, ability tags, etc.).</li><li>Use <code>Tag.Example</code> for locally added tags.</li><li>This separation prevents the server from overriding local tags.</li></ul><hr><h2 id=specify-tag-prefixes-for-blueprint-users>Specify Tag Prefixes for Blueprint Users<a hidden class=anchor aria-hidden=true href=#specify-tag-prefixes-for-blueprint-users>#</a></h2><p>In most projects, there are many tags, but certain systems only need to handle a specific group of them. For example, input tags only need to consider tags beginning with <code>ComboGraph.Input.</code></p><p>By enforcing tag prefixes, you:</p><ul><li>Reduce the risk of selecting the wrong tag.</li><li>Keep tags organized and readable.</li></ul><figure><img loading=lazy src=/posts/gameplay-tag/tag.png></figure><h4 id=restricting-tags-in-blueprints>Restricting Tags in Blueprints<a hidden class=anchor aria-hidden=true href=#restricting-tags-in-blueprints>#</a></h4><p>You can enforce tag prefixes by using arbitrary prefixes in different data structures such as <code>FGameplayTag</code>, <code>TArray</code>, and <code>TMap</code>. However, <strong>this restriction only works in Blueprints‚ÄîC++ does not enforce it.</strong></p><h4 id=example-usage>Example Usage:<a hidden class=anchor aria-hidden=true href=#example-usage>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=c1>// Restrict TArray tags using Categories
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UPROPERTY</span><span class=p>(</span><span class=n>EditAnywhere</span><span class=p>,</span> <span class=n>meta</span> <span class=o>=</span> <span class=p>(</span><span class=n>Categories</span> <span class=o>=</span> <span class=s>&#34;General.Input&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>TArray</span><span class=o>&lt;</span><span class=n>FGameplayTag</span><span class=o>&gt;</span> <span class=n>InputTags</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Restrict TMap tags using GameplayTagFilter
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UPROPERTY</span><span class=p>(</span><span class=n>EditAnywhere</span><span class=p>,</span> <span class=n>meta</span> <span class=o>=</span> <span class=p>(</span><span class=n>GameplayTagFilter</span> <span class=o>=</span> <span class=s>&#34;General.SetByCaller&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>TMap</span><span class=o>&lt;</span><span class=n>FGameplayTag</span><span class=p>,</span> <span class=kt>float</span><span class=o>&gt;</span> <span class=n>SetByCallerMagnitudes</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Restrict function parameters (must not be a reference parameter)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UFUNCTION</span><span class=p>(</span><span class=n>BlueprintCallable</span><span class=p>,</span> <span class=n>Meta</span> <span class=o>=</span> <span class=p>(</span><span class=n>GameplayTagFilter</span> <span class=o>=</span> <span class=s>&#34;General.Input&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>ExampleFunc</span><span class=p>(</span><span class=n>FGameplayTag</span> <span class=n>Input</span><span class=p>);</span>
</span></span></code></pre></div><p>By using these metadata settings, you can improve organization and enforce structured tag usage in your Blueprint systems.</p><hr><h2 id=serialize-tmapfgameplaytag-float-or-any-tmap-for-replication>Serialize <code>TMap&lt;FGameplayTag, float></code> or any TMap for replication<a hidden class=anchor aria-hidden=true href=#serialize-tmapfgameplaytag-float-or-any-tmap-for-replication>#</a></h2><p>By default TMap is not supported for sending through network. In my game, I have the need to send the <code>TMap&lt;FGameplayTag, float> Params</code>
to the clients so I have to do my own serialization. This is the same way GAS use to replicate tag counts.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=nf>USTRUCT</span><span class=p>(</span><span class=n>Blueprintable</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=n>FReplicatedMapWrapper</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nf>GENERATED_USTRUCT_BODY</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>virtual</span> <span class=kt>bool</span> <span class=nf>NetSerialize</span><span class=p>(</span><span class=n>FArchive</span><span class=o>&amp;</span> <span class=n>Ar</span><span class=p>,</span> <span class=n>class</span> <span class=n>UPackageMap</span><span class=o>*</span> <span class=n>Map</span><span class=p>,</span> <span class=kt>bool</span><span class=o>&amp;</span> <span class=n>bOutSuccess</span><span class=p>)</span> <span class=n>override</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl><span class=nl>public</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=nf>UPROPERTY</span><span class=p>(</span><span class=n>BlueprintReadWrite</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>TMap</span><span class=o>&lt;</span><span class=n>FGameplayTag</span><span class=p>,</span> <span class=kt>float</span><span class=o>&gt;</span> <span class=n>Params</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>template</span><span class=o>&lt;&gt;</span>
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=n>TStructOpsTypeTraits</span><span class=o>&lt;</span><span class=n>FReplicatedMapWrapper</span><span class=o>&gt;</span> <span class=o>:</span> <span class=n>public</span> <span class=n>TStructOpsTypeTraitsBase2</span><span class=o>&lt;</span><span class=n>FReplicatedMapWrapper</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>enum</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>WithNetSerializer</span> <span class=o>=</span> <span class=nb>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>	<span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>FReplicatedMapWrapper</span><span class=o>::</span><span class=nf>NetSerialize</span><span class=p>(</span><span class=n>FArchive</span><span class=o>&amp;</span> <span class=n>Ar</span><span class=p>,</span> <span class=n>class</span> <span class=n>UPackageMap</span><span class=o>*</span> <span class=n>Map</span><span class=p>,</span> <span class=kt>bool</span><span class=o>&amp;</span> <span class=n>bOutSuccess</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>constexpr</span> <span class=n>int32</span> <span class=n>CountBits</span> <span class=o>=</span> <span class=n>MAX_ELEMENT_COUNT</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>constexpr</span> <span class=n>int32</span> <span class=n>MaxCount</span> <span class=o>=</span> <span class=p>((</span><span class=mi>1</span> <span class=o>&lt;&lt;</span> <span class=n>CountBits</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>Ar</span><span class=p>.</span><span class=nf>IsSaving</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>int32</span> <span class=n>Count</span> <span class=o>=</span> <span class=n>Params</span><span class=p>.</span><span class=nf>Num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>Count</span> <span class=o>&gt;</span> <span class=n>MaxCount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span> 
</span></span><span class=line><span class=cl>			<span class=nf>UE_LOG</span><span class=p>(</span><span class=n>LogTemp</span><span class=p>,</span> <span class=n>Error</span><span class=p>,</span> <span class=nf>TEXT</span><span class=p>(</span><span class=s>&#34;FReplicatedMapWrapper::NetSerialize: Too many params (%d) for replication. Clamping to %d.&#34;</span><span class=p>),</span> <span class=n>Count</span><span class=p>,</span> <span class=n>MaxCount</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>Count</span> <span class=o>=</span> <span class=n>MaxCount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=n>Ar</span><span class=p>.</span><span class=nf>SerializeBits</span><span class=p>(</span><span class=o>&amp;</span><span class=n>Count</span><span class=p>,</span> <span class=n>CountBits</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span> <span class=nl>It</span> <span class=p>:</span> <span class=n>Params</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>FGameplayTag</span> <span class=n>Tag</span> <span class=o>=</span> <span class=n>It</span><span class=p>.</span><span class=n>Key</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=kt>float</span> <span class=n>Value</span> <span class=o>=</span> <span class=n>It</span><span class=p>.</span><span class=n>Value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=n>Tag</span><span class=p>.</span><span class=nf>NetSerialize</span><span class=p>(</span><span class=n>Ar</span><span class=p>,</span> <span class=n>Map</span><span class=p>,</span> <span class=n>bOutSuccess</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>Ar</span> <span class=o>&lt;&lt;</span> <span class=n>Value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=n>Count</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>int32</span> <span class=n>Count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>Ar</span><span class=p>.</span><span class=nf>SerializeBits</span><span class=p>(</span><span class=o>&amp;</span><span class=n>Count</span><span class=p>,</span> <span class=n>CountBits</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>Params</span><span class=p>.</span><span class=nf>Empty</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>while</span> <span class=p>(</span><span class=n>Count</span><span class=o>--</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>FGameplayTag</span> <span class=n>Tag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=kt>float</span> <span class=n>Value</span> <span class=o>=</span> <span class=mf>0.f</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=n>Tag</span><span class=p>.</span><span class=nf>NetSerialize</span><span class=p>(</span><span class=n>Ar</span><span class=p>,</span> <span class=n>Map</span><span class=p>,</span> <span class=n>bOutSuccess</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>Ar</span> <span class=o>&lt;&lt;</span> <span class=n>Value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=n>Params</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=n>Tag</span><span class=p>,</span> <span class=n>Value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><p>I hope these insights help you avoid common pitfalls and improve your workflow! If you have any questions or additional tips, feel free to reach out. üöÄ</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://teambaconn.github.io/tags/gas/>Gas</a></li><li><a href=https://teambaconn.github.io/tags/game/>Game</a></li><li><a href=https://teambaconn.github.io/tags/unreal/>Unreal</a></li><li><a href=https://teambaconn.github.io/tags/gameplay-tag/>Gameplay-Tag</a></li></ul><nav class=paginav><a class=prev href=https://teambaconn.github.io/unreal-post/animation-driven/><span class=title>¬´ Prev</span><br><span>[Unreal] Animation Driven System</span>
</a><a class=next href=https://teambaconn.github.io/posts/portfolio/><span class=title>Next ¬ª</span><br><span>Portfolio</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://teambaconn.github.io/>BaconGameDev's Blog</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>